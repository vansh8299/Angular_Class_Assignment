<div class="container-fluid">
  <h2 style="padding-bottom: 20px">App Store Form</h2>

  <form [formGroup]="applicationForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="appname">Application Name: </label>
      <input
        [class.is-invalid]="
          applicationForm.get('AppName')?.invalid &&
          applicationForm.get('AppName')?.touched
        "
        formControlName="AppName"
        type="text"
        id="appname"
        class="form-control"
      />
      <div
        *ngIf="
          applicationForm.get('AppName')?.invalid &&
          applicationForm.get('AppName')?.touched
        "
      >
        <small
          class="text-danger"
          *ngIf="applicationForm.get('AppName')?.errors?.['required']"
          >Please enter the app name</small
        >
        <small
          class="text-danger"
          *ngIf="applicationForm.get('AppName')?.errors?.['minlength']"
          >App name should be of 3 or more characters</small
        >
      </div>
    </div>

    <div class="form-group">
      <label for="desname">Description: </label>
      <textarea
        [class.is-invalid]="
          applicationForm.get('description')?.invalid &&
          applicationForm.get('description')?.touched
        "
        formControlName="description"
        class="form-control"
        id="desname"
        placeholder="Write something...."
      ></textarea>
      <div
        *ngIf="
          applicationForm.get('description')?.invalid &&
          applicationForm.get('description')?.touched
        "
      >
        <small
          class="text-danger"
          *ngIf="applicationForm.get('description')?.errors?.['required']"
          >Please enter the description</small
        >
        <small
          class="text-danger"
          *ngIf="applicationForm.get('description')?.errors?.['minlength']"
          >Description should be of 10 or more characters</small
        >
      </div>
    </div>

    <div class="form-group">
      <label for="datenew">Release Date</label>
      <input
        [class.is-invalid]="
          applicationForm.get('releasedate')?.invalid &&
          applicationForm.get('releasedate')?.touched
        "
        formControlName="releasedate"
        type="date"
        readonly
        id="datenew"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="versionname">Version</label>
      <input
        [class.is-invalid]="
          applicationForm.get('version')?.invalid &&
          applicationForm.get('version')?.touched
        "
        formControlName="version"
        type="text"
        id="versionname"
        class="form-control"
      />
    </div>
    <br />

    <div class="form-group">
      <label for="genrename">Genre</label>
      <select
        [class.is-invalid]="
          applicationForm.get('genre')?.invalid &&
          applicationForm.get('genre')?.touched
        "
        class="form-select"
        aria-label="Default select example"
        id="genrename"
        formControlName="genre"
      >
        <option value="" selected disabled>Choose Genre</option>
        <option value="Games">Games</option>
        <option value="Health">Health</option>
        <option value="Beauty">Beauty</option>
        <option value="Travel">Travel</option>
      </select>
    </div>

    <div class="form-group">
      <label for="imageurl">Image URL</label>
      <input
        [class.is-invalid]="
          applicationForm.get('imageurl')?.invalid &&
          applicationForm.get('imageurl')?.touched
        "
        formControlName="imageurl"
        type="text"
        id="imageurl"
        class="form-control"
      />
    </div>
    <br />

    <div class="form-check form-switch">
      <input
        class="form-check-input"
        type="checkbox"
        role="switch"
        id="flexSwitchCheckChecked"
        [checked]="applicationForm.get('visibility')?.value || false"
        (change)="toggleVisibility($event)"
        aria-label="Visibility"
        formControlName="visibility"
      />
      <label class="form-check-label" for="flexSwitchCheckChecked"
        >Visibility</label
      >
    </div>
    <br />

    <div class="d-flex justify-content-between">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!applicationForm.valid"
      >
        Submit
      </button>
    </div>
    <br />

    <div>
      <h6 class="mt-4"></h6>
      <ng-container *ngIf="show">
        <ngb-toast
          class="custom-toast"
          [autohide]="false"
          (hidden)="show = false"
        >
          Application updated successfully
        </ngb-toast>
      </ng-container>
    </div>
  </form>
</div>
